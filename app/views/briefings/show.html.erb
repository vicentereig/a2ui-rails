<div class="max-w-xl mx-auto">
  <div id="briefing-container"
       data-controller="briefing"
       data-briefing-user-id-value="<%= @user_id %>"
       data-briefing-date-value="<%= @date %>">

    <!-- Loading State -->
    <div id="loading-state" class="hidden">
      <div class="briefing-card briefing-loading">
        <div class="briefing-header">
          <div class="h-6 w-48 bg-gray-100 rounded"></div>
          <div class="h-4 w-32 bg-gray-100 rounded mt-2"></div>
        </div>
        <div class="space-y-4 mt-6">
          <div class="h-20 bg-gray-50 rounded-lg"></div>
          <div class="h-20 bg-gray-50 rounded-lg"></div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div id="content-state" class="briefing-card">
      <!-- Header -->
      <header class="briefing-header">
        <h1 id="greeting" class="briefing-greeting">Daily Briefing</h1>
        <p class="briefing-date"><%= Date.parse(@date).strftime('%A, %B %-d') %></p>
      </header>

      <!-- Insights -->
      <section id="insights-container">
        <!-- Insights streamed here -->
      </section>

      <!-- Suggestions -->
      <section id="suggestions-section" class="suggestions-section hidden">
        <h2 class="suggestions-header">What to do today</h2>
        <div id="suggestions-container">
          <!-- Suggestions streamed here -->
        </div>
      </section>
    </div>

    <!-- Generate Button -->
    <div id="generate-section" class="mt-6 text-center">
      <button id="generate-btn"
              data-action="click->briefing#generate"
              class="inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium rounded-lg transition-all"
              style="background: var(--color-accent); color: var(--color-text);">
        Generate Briefing
      </button>
    </div>

    <!-- Warning State -->
    <div id="warning-state" class="hidden mt-4">
      <div class="px-4 py-3 rounded-lg" style="background: var(--color-warning-bg); border: 1px solid var(--color-warning);">
        <p id="warning-message" style="color: var(--color-warning); font-size: 0.875rem;"></p>
      </div>
    </div>

    <!-- Error State -->
    <div id="error-state" class="hidden mt-4">
      <div class="px-4 py-3 rounded-lg" style="background: var(--color-warning-bg); border: 1px solid var(--color-warning);">
        <p id="error-message" style="color: var(--color-warning); font-size: 0.875rem;"></p>
      </div>
    </div>

    <!-- Complete State -->
    <div id="complete-state" class="hidden mt-4 text-center">
      <p style="color: var(--color-text-subtle); font-size: 0.8125rem;">Briefing complete</p>
    </div>
  </div>
</div>
