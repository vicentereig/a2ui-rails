<div class="briefing-container">
  <div class="max-w-xl mx-auto">
    <div id="briefing-container"
         data-controller="briefing"
         data-briefing-user-id-value="<%= @user_id %>"
         data-briefing-date-value="<%= @date %>">

      <!-- Loading State -->
      <div id="loading-state" class="hidden">
        <div class="briefing-card briefing-loading">
          <div class="briefing-header">
            <div class="loading-skeleton" style="height: 1.5rem; width: 12rem;"></div>
            <div class="loading-skeleton" style="height: 1rem; width: 8rem; margin-top: 0.5rem;"></div>
          </div>
          <div style="margin-top: 1.5rem;">
            <div class="loading-skeleton" style="height: 6rem;"></div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div id="content-state" class="briefing-card">
        <!-- Header -->
        <header class="briefing-header">
          <h1 id="greeting" class="briefing-greeting">Daily Briefing</h1>
          <p class="briefing-date"><%= Date.parse(@date).strftime('%A, %B %-d') %></p>
        </header>

        <!-- Status (single consolidated block) -->
        <section id="status-container">
          <!-- Status streamed here -->
        </section>

        <!-- Suggestions -->
        <section id="suggestions-section" class="suggestions-section hidden">
          <h2 class="suggestions-header">What to do today</h2>
          <div id="suggestions-container">
            <!-- Suggestions streamed here -->
          </div>
        </section>

        <!-- Action Bar -->
        <div class="action-bar" id="action-bar">
          <button id="generate-btn"
                  data-action="click->briefing#generate"
                  class="btn btn-primary">
            Generate Briefing
          </button>
        </div>

        <!-- Warning State -->
        <div id="warning-state" class="hidden">
          <div class="status-card status-card--warning">
            <p id="warning-message" class="status-text"></p>
          </div>
        </div>

        <!-- Error State -->
        <div id="error-state" class="hidden">
          <div class="status-card status-card--warning">
            <p id="error-message" class="status-text"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
